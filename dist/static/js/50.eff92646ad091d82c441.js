webpackJsonp([50],{AQ3d:function(t,e,n){"use strict";function o(t){n("RwV3")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("bWJ8"),a=n("qqG0"),l={name:"ContentSetting",components:{Button:i.a,Toast:a.a},data:function(){return{defArrow:this.$store.state.Common.defaultLineArrow,isToast:!1,toast:"",navData:[{title:"班牌内容设置",value:0},{title:"播放规则设置",value:1}],listData:[{title:"新闻资讯",explain:"最新的时事政治，热点新闻话题",iconName:"icon-xw",value:0},{title:"课程信息",explain:"班级当前时间的课程状态",iconName:"icon-laoshikebiao",value:1},{title:"学生留言",explain:"学生给家长的留言信息",iconName:"icon-liuyanhudong",value:2},{title:"班级课表",explain:"班级的课表信息",iconName:"icon-chakankebiao01",value:3},{title:"今日考勤",explain:"班级的今日考勤情况",iconName:"icon-kaoqin",value:4}],ruleDialog:!1,ruleForm:{title:"",lx:"",checked:1,content_table:"",content:"",contentSource:"",content_user:""},replaceData:[{id:1,value:"校历"},{id:2,value:"上课时间"}],newsListData:[{id:1,news_name:"百度新闻"}],rules:{sourceName:[{required:!0,message:"请输入资源名称",trigger:"blur"}],resourceName:[{required:!0,message:"请输入资源库名称",trigger:"blur"}],selectedResource:[{required:!0,message:"请选择资源库",trigger:"change"}]}}},methods:{hideToast:function(){this.isToast=!1},navClick:function(t){0!=t.value&&1==t.value&&this.$router.push("/PlayRuleSetting")},listClick:function(t){this.ruleForm={title:t.dic_code,lx:t.lx},this.getContentDetail(t.id,t.lx)},getListData:function(){var t=this,e={school_id:localStorage.getItem("schoolId")};this.$loading(),this.$api.Rules.contentSetList("get",e).then(function(e){t.$loading().close(),600==e.data.code||0==e.data.code?t.listData=e.data.data:(t.isToast=!0,t.toast=e.data.msg)}).catch(function(e){t.$loading().close()})},getContentDetail:function(t,e){var n=this,o={id:t,lx:e,school_id:localStorage.getItem("schoolId")};this.$api.Rules.contentDetail("get",o).then(function(t){600==t.data.code||0==t.data.code?(n.$set(n.ruleForm,"id",t.data.data.id),n.$set(n.ruleForm,"is_show",t.data.data.is_show),n.$set(n.ruleForm,"content_table",1*t.data.data.content_table),n.$set(n.ruleForm,"content_user",t.data.data.content_user),n.$set(n.ruleForm,"news_from_id",1*t.data.data.news_from_id),n.ruleDialog=!0):(n.isToast=!0,n.toast=t.data.msg)})},getNewsFrom:function(){var t=this,e={school_id:localStorage.getItem("schoolId")};this.$api.Rules.getNewsFrom("get",e).then(function(e){600==e.data.code||0==e.data.code?t.newsListData=e.data.data:(t.isToast=!0,t.toast=e.data.msg)})},saveForm:function(){var t=this,e={lx:this.ruleForm.lx,is_show:this.ruleForm.is_show,school_id:localStorage.getItem("schoolId")};1==this.ruleForm.lx?(e.content_table=this.ruleForm.content_table,e.content=this.ruleForm.content_table):2==this.ruleForm.lx?e.content_user=this.ruleForm.content_user:3==this.ruleForm.lx&&(e.news_from_id=this.ruleForm.news_from_id),this.$loading(),this.$api.Rules.contentSetList("put",e,this.ruleForm.id).then(function(e){t.$loading().close(),600==e.data.code||0==e.data.code?t.ruleDialog=!1:(t.isToast=!0,t.toast=e.data.msg)}).catch(function(e){t.$loading().close()})}},created:function(){this.getListData(),this.getNewsFrom()},mounted:function(){this.roleActions=this.$store.state.Common.roleActions,setTimeout(function(){var t=$(".index > .m-cen").height(),e=$(".index .set-top").height(),n=$(".stu-turnover-set .stu-right .title").height(),o=$(".pagination-box").height(),i=t-e-n-o-10;$(".stu-turnover-set .stu-right .content").height(i);var a=$(".student-access").height()-$(".stu-left .title").height();$(".stu-left .content").height(a)},20)}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-setting"},[n("ul",{staticClass:"content-list"},t._l(t.listData,function(e,o){return n("li",{key:o,staticClass:"inner"},[n("i",{staticClass:"iconfont ",class:e.iconName}),t._v(" "),"班级课表"==e.dic_code?n("i",{staticClass:"iconfont icon-chakankebiao01"}):"学生留言"==e.dic_code?n("i",{staticClass:"iconfont icon-liuyanhudong"}):"今日考勤"==e.dic_code?n("i",{staticClass:"iconfont icon-kaoqin"}):"课程信息"==e.dic_code?n("i",{staticClass:"iconfont icon-laoshikebiao"}):"新闻资讯"==e.dic_code?n("i",{staticClass:"iconfont icon-xw"}):t._e(),t._v(" "),n("h4",[t._v(t._s(e.dic_code))]),t._v(" "),n("p",[t._v(t._s(e.notes))]),t._v(" "),n("Button",{attrs:{btnClass:"custom6",btnHeight:"38px",btnFontSize:"12px",title:"编辑"},on:{click:function(n){return t.listClick(e)}}})],1)}),0),t._v(" "),n("el-dialog",{staticClass:"form-dialog",attrs:{title:t.ruleForm.title,visible:t.ruleDialog,width:"650px",center:""},on:{"update:visible":function(e){t.ruleDialog=e}}},[n("div",{staticClass:"content"},[n("el-form",{ref:"ruleForm",attrs:{"label-width":"100px",rules:t.rules,model:t.ruleForm}},[n("el-form-item",{attrs:{label:"功能名称："}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入功能名称",clearable:"",readonly:""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"是否显示："}},[n("el-radio-group",{model:{value:t.ruleForm.is_show,callback:function(e){t.$set(t.ruleForm,"is_show",e)},expression:"ruleForm.is_show"}},[n("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),n("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),1==t.ruleForm.lx?n("el-form-item",{attrs:{label:"替换内容："}},[n("el-select",{attrs:{placeholder:"请选择替换内容"},model:{value:t.ruleForm.content_table,callback:function(e){t.$set(t.ruleForm,"content_table",e)},expression:"ruleForm.content_table"}},t._l(t.replaceData,function(t){return n("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}),1)],1):t._e(),t._v(" "),234568==t.ruleForm.lx?n("el-form-item",{attrs:{label:"默认内容：",prop:"content"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入默认内容",clearable:""},model:{value:t.ruleForm.content,callback:function(e){t.$set(t.ruleForm,"content",e)},expression:"ruleForm.content"}})],1):t._e(),t._v(" "),3==t.ruleForm.lx?n("el-form-item",{attrs:{label:"内容来源：",prop:"contentSource"}},[n("el-select",{attrs:{placeholder:"请选择内容来源"},model:{value:t.ruleForm.news_from_id,callback:function(e){t.$set(t.ruleForm,"news_from_id",e)},expression:"ruleForm.news_from_id"}},t._l(t.newsListData,function(t){return n("el-option",{key:t.id,attrs:{label:t.news_name,value:t.id}})}),1)],1):t._e(),t._v(" "),2==t.ruleForm.lx?n("el-form-item",{attrs:{label:"自定义内容：",prop:"content_user"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入自定义内容",type:"textarea",rows:5,clearable:""},model:{value:t.ruleForm.content_user,callback:function(e){t.$set(t.ruleForm,"content_user",e)},expression:"ruleForm.content_user"}})],1):t._e()],1),t._v(" "),1==t.ruleForm.lx?n("dd",[t._v("注：可设置其他信息替换现在的班级课表")]):t._e(),t._v(" "),2==t.ruleForm.lx?n("dd",[t._v("注：默认和自定义内容，在此功能没有数据或不显示时显示")]):t._e()],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{title:"保存",btnClass:"custom8",btnFontSize:"12px",btnHeight:"4.5vh"},on:{click:t.saveForm}}),t._v(" "),n("Button",{attrs:{title:"取消",btnClass:"custom7",btnFontSize:"12px",btnHeight:"4.5vh"},on:{click:function(e){t.ruleDialog=!1}}})],1)]),t._v(" "),t.isToast?n("Toast",{attrs:{"modal-title":t.toast,duration:"1500"},on:{toastCancel:t.hideToast}}):t._e()],1)},r=[],c={render:s,staticRenderFns:r},d=c,u=n("VU/8"),g=o,m=u(l,d,!1,g,"data-v-31961f93",null);e.default=m.exports},RwV3:function(t,e,n){var o=n("UxMm");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("95730dc4",o,!0,{})},UxMm:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.content-setting[data-v-31961f93] {\n  width: 100%;\n  height: 100%;\n}\n.content-setting .setting-top[data-v-31961f93] {\n    min-height: 5vh;\n    height: 5vh;\n    line-height: 5vh;\n    background-color: #fff;\n    overflow: hidden;\n}\n.content-setting .setting-top ul[data-v-31961f93] {\n      display: inline-block;\n      width: 100%;\n      min-width: 420px;\n}\n.content-setting .setting-top ul li[data-v-31961f93] {\n        float: left;\n        width: 125px;\n        text-align: center;\n        color: #6C6C6C;\n        font-size: 15px;\n        font-weight: bold;\n        position: relative;\n        cursor: pointer;\n}\n.content-setting .setting-top ul li:nth-last-child(1) img[data-v-31961f93] {\n          display: none;\n}\n.content-setting .setting-top ul li img[data-v-31961f93] {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          right: -10px;\n          margin: auto;\n          height: 20px;\n}\n.content-setting .setting-top ul li span[data-v-31961f93] {\n          font-weight: normal;\n          font-size: 14px;\n          margin-left: 3px;\n}\n.content-setting .setting-top ul li.active[data-v-31961f93] {\n          color: #1cab7d;\n}\n.content-setting .setting-top ul li.active span[data-v-31961f93] {\n            color: #6C6C6C;\n}\n.content-setting .content-list[data-v-31961f93] {\n    width: 100%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.content-setting .content-list li[data-v-31961f93] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      text-align: center;\n      margin-top: 20px;\n      margin-right: 20px;\n      background-color: #fff;\n}\n.content-setting .content-list li[data-v-31961f93]:nth-last-child(1) {\n        margin-right: 0;\n}\n.content-setting .content-list li:hover i[data-v-31961f93] {\n        color: #1cab7d;\n}\n.content-setting .content-list li i[data-v-31961f93] {\n        font-size: 5vw;\n        height: 5vw;\n        display: inline-block;\n        margin-top: 20px;\n        -webkit-transition: 0.3s;\n        transition: 0.3s;\n}\n.content-setting .content-list li h4[data-v-31961f93] {\n        font-size: 16px;\n        line-height: 20px;\n        font-weight: bold;\n        color: #000;\n        margin-top: 20px;\n        margin-bottom: 10px;\n}\n.content-setting .content-list li p[data-v-31961f93] {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-size: 14px;\n        margin: 10px 20px;\n}\n.content-setting .content-list li .button-div[data-v-31961f93] {\n        height: 20px;\n        width: 70%;\n        margin-bottom: 20px;\n        background: #F2F2F2;\n}\n.content-setting .content-list li .button-div > div[data-v-31961f93] {\n          height: 20px;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog {\n    margin-top: 15vh !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-select__input {\n      display: inline !important;\n      border: none !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-dialog__body {\n      padding-bottom: 0 !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-form {\n      text-align: left;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-form .el-form-item {\n        padding-bottom: 0 !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-form /deep/ .el-checkbox__inner {\n        border-radius: 50% !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-form /deep/ .el-checkbox__label {\n        color: #333 !important;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog dd {\n      color: #f56c6c;\n      font-size: 12px;\n      margin-left: 17px;\n      margin-bottom: 23px;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-dialog__footer .dialog-footer {\n      margin: 0 auto;\n      text-align: center;\n}\n.content-setting .form-dialog[data-v-31961f93] .el-dialog .el-dialog__footer .dialog-footer .button-div {\n        clear: both;\n        float: none;\n        margin-right: 20px;\n}\n",""])}});