webpackJsonp([39],{EiQC:function(e,t,n){"use strict";function o(e){n("ouke")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("mvHQ"),r=n.n(a),i=n("bWJ8"),l=n("T0Gs"),s=n("qqG0"),c={name:"ResourceWord",components:{Button:i.a,treeTransfer:l.a,Toast:s.a},computed:{defaultErrImg:function(){return'this.src="'+this.$store.state.Common.defaultErrImg+'"'}},data:function(){return{defArrow:this.$store.state.Common.defaultLineArrow,isToast:!1,toast:"",navData:[{title:"图片",value:0,count:""},{title:"视频",value:1,count:""},{title:"文档",value:2,count:""}],searchVal:"",inputVal:"",btn1Data:{iconL:n("vYV2"),iconLAct:n("vYV2")},labelData:[],checkedResource:{},is_share:!1}},methods:{resizeLayout:function(){setTimeout(function(){var e=$(".index > .m-cen").height(),t=$(".index .set-top").height(),n=$(".resource-word > .resource-top").height(),o=e-t-n-10;$(".resource-word .label-list").height(o)},50)},navClick:function(e){if(0==e.value)this.$router.push("/ResourcePic");else if(1==e.value)this.$router.push("/ResourceVideo");else if(2==e.value)return},search:function(){},uploadClick:function(){this.$router.push("/UploadWord")},editLabel:function(e,t){var n=this;this.labelData.forEach(function(e,t){n.$set(n.labelData[t],"isInput",!1)}),this.$set(this.labelData[t],"isInput",!0),this.inputVal=e.label_name;JSON.parse(r()(e));this.is_share=e.is_share},saveEditLabel:function(e,t){var n=this,o={id:e.id,label_name:this.inputVal,is_share:e.is_share?1:0,resource_type:3,user_id:localStorage.getItem("userId"),school_id:localStorage.getItem("schoolId")};this.$api.Rules.modifyLabel("put",o).then(function(e){600==e.data.code||0==e.data.code?(n.$set(n.labelData[t],"label_name",n.inputVal),n.$set(n.labelData[t],"isInput",!1)):(n.isToast=!0,n.toast=e.data.msg)})},cancelEditLabel:function(e){e.isInput=!1,this.inputVal="",e.is_share=this.is_share},toList:function(e){var t={label_id:e.id,is_share:e.is_share,other_share:e.other_share,label_name:e.label_name,creatName:e.user_id};this.$router.push({path:"WordListDetail",query:t})},toDetail:function(e,t){var n={id:t.id,other_share:e.other_share};this.$router.push({path:"WordDetail",query:n})},getResourcesLabels:function(){var e=this;this.$loading();var t={resource_type:3,user_id:localStorage.getItem("userId"),school_id:localStorage.getItem("schoolId")};this.$api.Rules.getResourcesLabels("get",t).then(function(t){e.$loading().close(),600==t.data.code||0==t.data.code?(t.data.data.rows.forEach(function(e){e.is_share=1==e.is_share}),e.labelData=t.data.data.rows):(e.isToast=!0,e.toast=t.data.msg)}).catch(function(t){e.$loading().close()})},getLabelCount:function(){var e=this,t={user_id:localStorage.getItem("userId"),school_id:localStorage.getItem("schoolId")};this.$api.Rules.getLabelCount("get",t).then(function(t){600==t.data.code||0==t.data.code?e.navData.forEach(function(e){"图片"==e.title?e.count=t.data.data.picture_count:"视频"==e.title?e.count=t.data.data.video_count:"文档"==e.title&&(e.count=t.data.data.word_count)}):(e.isToast=!0,e.toast=t.data.msg)})}},mounted:function(){this.roleActions=this.$store.state.Common.roleActions,this.resizeLayout()},created:function(){this.getResourcesLabels(),this.getLabelCount()}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resource-word"},[n("div",{staticClass:"resource-top"},[n("ul",e._l(e.navData,function(t,o){return n("li",{key:o,staticClass:"clearfix",class:{active:2==t.value},on:{click:function(n){return e.navClick(t)}}},[e._v("\n\t\t\t\t\t"+e._s(t.title)),n("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.count,expression:"item.count!=''"}]},[e._v("("+e._s(t.count)+")")]),e._v(" "),n("img",{attrs:{src:e.defArrow}})])}),0),e._v(" "),n("div",{staticClass:"search-box"},[n("el-input",{attrs:{size:"small",placeholder:"请输入资源库名称"},on:{change:e.search},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:e.search},slot:"suffix"})]),e._v(" "),n("Button",{attrs:{btnClass:"custom8",iconLeft:!0,data:e.btn1Data,btnFontSize:"12px",title:"上传文档"},on:{click:e.uploadClick}})],1)]),e._v(" "),n("el-main",{staticClass:"label-list"},[n("el-row",{attrs:{gutter:20}},e._l(e.labelData,function(t,o){return n("el-col",{key:o,attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[n("div",{staticClass:"inner"},[n("div",{staticClass:"top"},[n("div",{staticClass:"left"},[n("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"item.isInput"}],ref:"edit"+o,refInFor:!0,staticStyle:{width:"150px"},attrs:{maxlength:"13",clearable:"",size:"small",placeholder:"请输入资源库名称"},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e._v(" "),n("h4",{directives:[{name:"show",rawName:"v-show",value:!t.isInput,expression:"!item.isInput"}],on:{click:function(n){return e.toList(t)}}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t.label_name)+"\n\t\t\t\t\t\t\t\t\t"),t.words.length>0?n("span",{staticClass:"count"},[e._v(e._s(t.words.length))]):e._e(),e._v(" "),n("span",[e._v(e._s(t.creatName)+"创建人"+e._s(t.user_id))])]),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"item.isInput"}],attrs:{title:"取消",btnClass:"custom7",btnFontSize:"12px",btnHeight:"3.5vh"},on:{click:function(n){return e.cancelEditLabel(t,o)}}}),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:t.isInput,expression:"item.isInput"}],attrs:{title:"保存",btnClass:"custom7",btnFontSize:"12px",btnHeight:"3.5vh"},on:{click:function(n){return e.saveEditLabel(t,o)}}})],1),e._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.isInput&&0==t.other_share,expression:"!item.isInput && item.other_share == 0"}],attrs:{btnClass:"custom6",btnFontSize:"12px",btnHeight:"3.5vh",title:"编辑"},on:{click:function(n){return e.editLabel(t,o)}}}),e._v(" "),0==t.is_system&&0==t.other_share?n("el-checkbox",{attrs:{disabled:!t.isInput},model:{value:t.is_share,callback:function(n){e.$set(t,"is_share",n)},expression:"item.is_share"}},[e._v("共享")]):e._e(),e._v(" "),n("div",{staticClass:"line"})],1),e._v(" "),n("ul",{staticClass:"bot"},e._l(t.words,function(o,a){return n("li",{key:a,on:{click:function(n){return e.toDetail(t,o)}}},[n("p",[e._v(e._s(o.title)),n("span",[e._v(e._s(o.ut_date?o.ut_date:o.ct_date))])])])}),0)])])}),1)],1)],1)},d=[],h={render:u,staticRenderFns:d},p=h,b=n("VU/8"),f=o,v=b(c,p,!1,f,"data-v-55b945f0",null);t.default=v.exports},ZUjS:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"\n@charset \"UTF-8\";\n.resource-word[data-v-55b945f0] {\n  width: 100%;\n  height: 100%;\n}\n.resource-word .resource-top[data-v-55b945f0] {\n    min-height: 6vh;\n    height: 6vh;\n    line-height: 6vh;\n    background-color: #fff;\n    overflow: hidden;\n}\n.resource-word .resource-top ul[data-v-55b945f0] {\n      display: inline-block;\n      width: 50%;\n      min-width: 420px;\n}\n.resource-word .resource-top ul li[data-v-55b945f0] {\n        float: left;\n        width: 125px;\n        text-align: center;\n        color: #6C6C6C;\n        font-size: 16px;\n        font-weight: bold;\n        position: relative;\n        cursor: pointer;\n}\n.resource-word .resource-top ul li:nth-last-child(1) img[data-v-55b945f0] {\n          display: none;\n}\n.resource-word .resource-top ul li img[data-v-55b945f0] {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          right: -10px;\n          margin: auto;\n          height: 20px;\n}\n.resource-word .resource-top ul li span[data-v-55b945f0] {\n          font-weight: normal;\n          font-size: 14px;\n          margin-left: 3px;\n}\n.resource-word .resource-top ul li.active[data-v-55b945f0] {\n          color: #1cab7d;\n}\n.resource-word .resource-top ul li.active span[data-v-55b945f0] {\n            color: #6C6C6C;\n}\n.resource-word .resource-top .search-box[data-v-55b945f0] {\n      width: 360px;\n      height: 6vh;\n      float: right;\n      margin: 0px 20px 6px 20px;\n      position: relative;\n}\n.resource-word .resource-top .search-box .el-input[data-v-55b945f0] {\n        width: 200px;\n        margin-right: 10px;\n}\n.resource-word .resource-top .search-box .el-input i[data-v-55b945f0] {\n          cursor: pointer;\n}\n.resource-word .label-list[data-v-55b945f0] {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    overflow-x: hidden;\n}\n.resource-word .label-list .el-col[data-v-55b945f0] {\n      margin-top: 20px;\n}\n.resource-word .label-list .el-col .inner[data-v-55b945f0] {\n        background-color: #fff;\n        padding: 10px;\n        overflow: hidden;\n        position: relative;\n}\n.resource-word .label-list .el-col .inner .top[data-v-55b945f0] {\n          height: 4vh;\n          line-height: 4vh;\n          overflow: hidden;\n}\n.resource-word .label-list .el-col .inner .top .left[data-v-55b945f0] {\n            width: auto;\n            float: left;\n            margin-left: 8px;\n}\n.resource-word .label-list .el-col .inner .top .left h4[data-v-55b945f0] {\n              font-size: 16px;\n              font-weight: bold;\n              display: inline-block;\n              cursor: pointer;\n}\n.resource-word .label-list .el-col .inner .top .left span[data-v-55b945f0] {\n              font-size: 12px;\n              color: #6c6c6c;\n              font-weight: normal;\n}\n.resource-word .label-list .el-col .inner .top .left .count[data-v-55b945f0] {\n              background-color: #1cab7d;\n              color: #fff;\n              padding: 3px 8px;\n              border-radius: 3px;\n              margin-right: 30px;\n}\n.resource-word .label-list .el-col .inner .top .left .button-div[data-v-55b945f0] {\n              margin-top: 3px;\n              margin-left: 10px;\n}\n.resource-word .label-list .el-col .inner .top .button-div[data-v-55b945f0] {\n            float: right;\n            margin-top: 3px;\n            margin-left: 20px;\n}\n.resource-word .label-list .el-col .inner .top .el-checkbox[data-v-55b945f0] {\n            float: right;\n}\n.resource-word .label-list .el-col .inner .top[data-v-55b945f0] .el-checkbox .el-checkbox__inner {\n            border-radius: 50% !important;\n}\n.resource-word .label-list .el-col .inner .top[data-v-55b945f0] .el-checkbox .el-checkbox__label {\n            color: #333 !important;\n}\n.resource-word .label-list .el-col .inner .top[data-v-55b945f0] .el-checkbox .is-checked .el-checkbox__inner {\n            background-color: #1cab7d;\n            border-color: #1cab7d;\n            color: #fff;\n}\n.resource-word .label-list .el-col .inner .top[data-v-55b945f0] .el-checkbox .is-checked .el-checkbox__inner::after {\n              border-color: #fff;\n}\n.resource-word .label-list .el-col .inner .top .line[data-v-55b945f0] {\n            width: 100%;\n            height: 1px;\n            background-color: #e7e8eb;\n            position: absolute;\n            left: 0;\n            top: 6vh;\n}\n.resource-word .label-list .el-col .inner .bot[data-v-55b945f0] {\n          width: 100%;\n          height: 150px;\n          overflow: hidden;\n          margin-top: 20px;\n}\n.resource-word .label-list .el-col .inner .bot li[data-v-55b945f0] {\n            width: 100%;\n            float: left;\n            height: 30px;\n            line-height: 30px;\n            position: relative;\n            cursor: pointer;\n}\n.resource-word .label-list .el-col .inner .bot li[data-v-55b945f0]::after {\n              content: '\\B7';\n              font-size: 20px;\n              position: absolute;\n              left: 10px;\n              top: 0;\n              margin: auto;\n}\n.resource-word .label-list .el-col .inner .bot li[data-v-55b945f0]:hover {\n              color: #1cab7d;\n}\n.resource-word .label-list .el-col .inner .bot li p[data-v-55b945f0] {\n              height: 30px;\n              line-height: 30px;\n              margin-bottom: 0;\n              margin-left: 20px;\n}\n.resource-word .label-list .el-col .inner .bot li p span[data-v-55b945f0] {\n                float: right;\n                text-align: right;\n}\n.resource-word .label-list .el-col .inner h5[data-v-55b945f0] {\n          font-size: 14px;\n          line-height: 35px;\n}\n.resource-word .label-list .el-col .inner p[data-v-55b945f0] {\n          font-size: 12px;\n          line-height: 14px;\n          margin-bottom: 8px;\n}\n.resource-word .label-list .el-col .inner[data-v-55b945f0] .el-checkbox__inner {\n          border-radius: 50% !important;\n}\n.resource-word .label-list .el-col .inner[data-v-55b945f0] .el-checkbox__label {\n          color: #333 !important;\n}\n.resource-word .label-list .el-col .inner .button-div[data-v-55b945f0] {\n          height: 20px;\n          float: right;\n          background: #F2F2F2;\n}\n.resource-word .label-list .el-col .inner .button-div > div[data-v-55b945f0] {\n            height: 20px;\n}\n",""])},ouke:function(e,t,n){var o=n("ZUjS");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("1d568924",o,!0,{})}});